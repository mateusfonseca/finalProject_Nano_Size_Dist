{% extends "base.html" %}

{% block title %}Password Reset{% endblock %}

{% load static %}
{# loads project's general style sheet #}
<link rel="stylesheet" href="{% static 'style.css' %}">

{% block content %}
    {# if this page is accessed through a valid link sent to the user's email upon request #}
    {% if validlink %}
        <h1>Set a new password!</h1>
        <br><br>
        <form method="POST">
            {% csrf_token %}
            <div class="mb-3 form-input-field">
                {# new_password1 from autogenerated Django Form model #}
                <input type="password" name="{{ form.new_password1.html_name }}" class="form-control"
                       id="exampleFormControlInput1" placeholder="new password" aria-label="password">
            </div>
            <div class="mb-3 form-input-field">
                {# new_password2 from autogenerated Django Form model #}
                <input type="password" name="{{ form.new_password2.html_name }}" class="form-control"
                       id="exampleFormControlInput1" placeholder="new password confirmation" aria-label="password">
            </div>
            <button class="m-2 btn btn-primary mt-4" type="submit">Change my password</button>
            <a href="{% url 'login' %}" role="button" class="m-2 mt-4 btn btn-secondary">Cancel</a>
        </form>
    {% else %} {# if this page is accessed through an expired or different link #}
        <h1>Invalid link!</h1>
        <br><br>
        <h4>The password reset link was invalid, possibly because it has already been used. Please request a new
            password reset.</h4>
    {% endif %}
{% endblock %}